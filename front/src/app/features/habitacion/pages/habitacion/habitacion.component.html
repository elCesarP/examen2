<div class="habitaciones-container">
  <div class="container">
    <h2>Gestión de Habitaciones</h2>

    <!-- Botón de Cerrar Sesión -->
    <button (click)="logout()" class="btn btn-danger">Cerrar Sesión</button>
  </div>
  <div class="container">
    <h2>Crear Habitación</h2>
    <form (ngSubmit)="crearHabitacion()">
      <div>
        <label for="nombre">Nombre:</label>
        <input
          type="text"
          id="nombre"
          [(ngModel)]="nuevaHabitacion.nombre"
          name="nombre"
          required
        />
      </div>
      <div>
        <label for="descripcion">Descripción:</label>
        <textarea
          id="descripcion"
          [(ngModel)]="nuevaHabitacion.descripcion"
          name="descripcion"
          required
        ></textarea>
      </div>
      <div>
        <label for="precio">Precio:</label>
        <input
          type="number"
          id="precio"
          [(ngModel)]="nuevaHabitacion.precio"
          name="precio"
          required
        />
      </div>
      <div>
        <label for="numero">Número:</label>
        <input
          type="number"
          id="numero"
          [(ngModel)]="nuevaHabitacion.numero"
          name="numero"
          required
        />
      </div>
      <div>
        <label for="disponible">Disponible:</label>
        <input
          type="checkbox"
          id="disponible"
          [(ngModel)]="nuevaHabitacion.disponible"
          name="disponible"
        />
      </div>
      <button type="submit">Crear Habitación</button>
    </form>
  </div>

  <div class="container">
    <h2>Gestión de Habitaciones</h2>

    <!-- Formulario para crear/editar habitación -->
    <form
      (ngSubmit)="guardarHabitacion(habitacionSeleccionada!)"
      *ngIf="habitacionSeleccionada"
    >
      <div>
        <label for="nombre">Nombre:</label>
        <input
          type="text"
          [(ngModel)]="habitacionSeleccionada.nombre"
          name="nombre"
          required
        />
      </div>
      <div>
        <label for="descripcion">Descripción:</label>
        <textarea
          [(ngModel)]="habitacionSeleccionada.descripcion"
          name="descripcion"
          required
        ></textarea>
      </div>
      <div>
        <label for="precio">Precio:</label>
        <input
          type="number"
          [(ngModel)]="habitacionSeleccionada.precio"
          name="precio"
          required
        />
      </div>
      <div>
        <label for="numero">Número:</label>
        <input
          type="number"
          [(ngModel)]="habitacionSeleccionada.numero"
          name="numero"
          required
        />
      </div>
      <div>
        <label for="disponible">Disponible:</label>
        <input
          type="checkbox"
          [(ngModel)]="habitacionSeleccionada.disponible"
          name="disponible"
        />
      </div>
      <button type="submit">Guardar</button>
      <button type="button" (click)="cancelarEdicion()">Cancelar</button>
    </form>

    <!-- Tabla de habitaciones -->
    <table>
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Descripción</th>
          <th>Precio</th>
          <th>Número</th>
          <th>Disponible</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let habitacion of habitaciones">
          <td>{{ habitacion.nombre }}</td>
          <td>{{ habitacion.descripcion }}</td>
          <td>{{ habitacion.precio }}</td>
          <td>{{ habitacion.numero }}</td>
          <td>{{ habitacion.disponible ? "Sí" : "No" }}</td>
          <td>
            <button (click)="seleccionarHabitacion(habitacion)">Editar</button>
            <button (click)="eliminarHabitacion(habitacion.id!)">
              Eliminar
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
