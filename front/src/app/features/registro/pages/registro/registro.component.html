<nav class="navbar navbar-expand-lg">
  <div class="container-fluid">
    <div class="navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link" routerLink="/rol">Rol</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/home">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/login">Inicio de sesión</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<router-outlet></router-outlet>

<div class="container mt-4">
  <h2 class="mb-4">Registro de Usuario</h2>
  <form [formGroup]="registroForm" (ngSubmit)="onSubmit()" class="registro-form">
    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre</label>
      <input id="nombre" class="form-control" formControlName="nombre" type="text" />
      <div *ngIf="registroForm.get('nombre')?.invalid && registroForm.get('nombre')?.touched" class="form-text text-danger">
        El nombre es obligatorio.
      </div>
    </div>

    <div class="mb-3">
      <label for="apellido" class="form-label">Apellido</label>
      <input id="apellido" class="form-control" formControlName="apellido" type="text" />
      <div *ngIf="registroForm.get('apellido')?.invalid && registroForm.get('apellido')?.touched" class="form-text text-danger">
        El apellido es obligatorio.
      </div>
    </div>

    <div class="mb-3">
      <label for="correo" class="form-label">Correo</label>
      <input id="correo" class="form-control" formControlName="correo" type="email" />
      <div *ngIf="registroForm.get('correo')?.invalid && registroForm.get('correo')?.touched" class="form-text text-danger">
        El correo es obligatorio y debe ser válido.
      </div>
    </div>

    <div class="mb-3">
      <label for="contrasena" class="form-label">Contraseña</label>
      <input id="contrasena" class="form-control" formControlName="contrasena" type="password" />
      <div *ngIf="registroForm.get('contrasena')?.invalid && registroForm.get('contrasena')?.touched" class="form-text text-danger">
        La contraseña debe tener al menos 8 caracteres.
      </div>
    </div>

    <div class="mb-3">
      <label for="telefono" class="form-label">Teléfono</label>
      <input id="telefono" class="form-control" formControlName="telefono" type="text" />
      <div *ngIf="registroForm.get('telefono')?.invalid && registroForm.get('telefono')?.touched" class="form-text text-danger">
        El teléfono es obligatorio.
      </div>
    </div>

    <div class="mb-3">
      <label for="rol_id" class="form-label">Rol</label>
      <input id="rol_id" class="form-control" formControlName="rol_id" type="number" />
      <div *ngIf="registroForm.get('rol_id')?.invalid && registroForm.get('rol_id')?.touched" class="form-text text-danger">
        El rol es obligatorio.
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="registroForm.invalid">Registrar</button>
    <div *ngIf="errorMessage" class="mt-3 alert alert-danger">{{ errorMessage }}</div>
  </form>
</div>
